### =================================================================================
### 1. AUTENTICAÇÃO (LOGIN)
### =================================================================================

### 1.1 Login com ADMINISTRADOR (Sucesso)
# @name loginAdmin
POST http://localhost:8080/academics/api/auth/login
Content-Type: application/json

{
  "email": "admin@mail.com",
  "password": "123"
}

> {%
    client.global.set("authToken", response.body.token);
    client.test("Request executed successfully", function() {
        client.assert(response.status === 200, "Response status is not 200");
    });
%}

### 1.2 Login com COLABORADOR (Sucesso)
# @name loginColab
POST http://localhost:8080/academics/api/auth/login
Content-Type: application/json

{
  "email": "colab@mail.com",
  "password": "123"
}

> {%
    client.global.set("colabToken", response.body.token);
%}

### 1.3 Login com RESPONSÁVEL (Sucesso)
POST http://localhost:8080/academics/api/auth/login
Content-Type: application/json

{
  "email": "resp@mail.com",
  "password": "123"
}

### 1.4 Login Falhado (Password Errada)
POST http://localhost:8080/academics/api/auth/login
Content-Type: application/json

{
  "email": "admin@mail.com",
  "password": "errada"
}

### =================================================================================
### 2. GESTÃO DE UTILIZADORES (ADMINISTRADOR)
### =================================================================================

### 2.1 Listar Todos os Utilizadores (ADMIN - Deve dar 200 OK)
GET http://localhost:8080/academics/api/users
Accept: application/json
Authorization: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJhZG1pbkBtYWlsLmNvbSIsInVzZXJJZCI6MSwicm9sZSI6IkFkbWluaXN0cmFkb3IiLCJpYXQiOjE3NjUxMzY4MjksImV4cCI6MTc2NTE0MDQyOX0.jKaUWAaxnMcsVK-Aot72HZ-DNqiOFdfAYQGx-kti8EraMqHNVot_IeS__akH2c_S

### 2.2 Criar Novo Utilizador (ADMIN - Deve dar 201 Created)
POST http://localhost:8080/academics/api/users
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJhZG1pbkBtYWlsLmNvbSIsInVzZXJJZCI6MSwicm9sZSI6IkFkbWluaXN0cmFkb3IiLCJpYXQiOjE3NjUxMzY4MjksImV4cCI6MTc2NTE0MDQyOX0.jKaUWAaxnMcsVK-Aot72HZ-DNqiOFdfAYQGx-kti8EraMqHNVot_IeS__akH2c_S

{
  "name": "Novo Colaborador Teste",
  "email": "novo.colab@mail.com",
  "password": "123",
  "role": "Colaborador"
}

### =================================================================================
### 3. TESTES DE SEGURANÇA (PERMISSÕES)
### =================================================================================

### 3.1 Tentar Listar Utilizadores como COLABORADOR (Deve dar 403 Forbidden)
# O endpoint GET /users tem @RolesAllowed({"Administrador"})
GET http://localhost:8080/academics/api/users
Accept: application/json
Authorization: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2xhYkBtYWlsLmNvbSIsInVzZXJJZCI6Miwicm9sZSI6IkNvbGFib3JhZG9yIiwiaWF0IjoxNzY1MTM2OTA3LCJleHAiOjE3NjUxNDA1MDd9.zE-JpW-_drhycOO_5iCoWQkSbjVKGcYN189LMi_2_fdEPxn5OY2pDnH90CsVzsw0

### 3.2 Tentar Criar Utilizador como COLABORADOR (Deve dar 403 Forbidden)
POST http://localhost:8080/academics/api/users
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJjb2xhYkBtYWlsLmNvbSIsInVzZXJJZCI6Miwicm9sZSI6IkNvbGFib3JhZG9yIiwiaWF0IjoxNzY1MTM2OTA3LCJleHAiOjE3NjUxNDA1MDd9.zE-JpW-_drhycOO_5iCoWQkSbjVKGcYN189LMi_2_fdEPxn5OY2pDnH90CsVzsw0"

{
  "name": "Hacker",
  "email": "hacker@mail.com",
  "password": "123",
  "role": "Administrador"
}

### 3.3 Acesso Sem Token (Deve dar 401 Unauthorized)
### 3.3 Acesso Sem Token (Deve dar 401 Unauthorized)
GET http://localhost:8080/academics/api/users
Accept: application/json

### =================================================================================
### 4. LOGOUT
### =================================================================================

### 4.1 Logout
POST http://localhost:8080/academics/api/auth/logout
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJhZG1pbkBtYWlsLmNvbSIsInVzZXJJZCI6MSwicm9sZSI6IkFkbWluaXN0cmFkb3IiLCJpYXQiOjE3NjUxNDMwMDIsImV4cCI6MTc2NTE0NjYwMn0.S2b3dDas9YENd1NmWk1SrqXyX0gDebS0SARjFffrZ-y7-Jo--Crpxz83WQHfmREf